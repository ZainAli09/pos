import{_ as M}from"./AuthenticatedLayout-2f90a5f5.js";import{_ as B}from"./Pagination-b8083704.js";import{Z as F,z as y,k as i,o,c as n,a as r,w as _,F as a,b as p,d as e,l as h,t as d,i as R,m as A}from"./app-352ce6fa.js";import{_ as V}from"./PrimaryButton-2c55c2ce.js";import{_ as H,D as U}from"./Modal-cb7df8f4.js";import{_ as N}from"./_plugin-vue_export-helper-c27b6911.js";const I={props:{users:Object,roles:Object},components:{AuthenticatedLayout:M,Pagination:B,Head:F,PrimaryButton:V,Modal:H,DangerButton:U},data(){return{FormData:{userName:"",role_id:""}}},methods:{changeRole(){const c={user_id:this.userIdForModal,role_id:this.FormData.role_id};axios.patch("/update/role",c).then(s=>{this.confirmingUserDeletion=!1,console.log(s.data)}).catch(s=>{console.error(s)})}},setup(){let c=y(!1),s=y(""),l=y("");return{confirmingUserDeletion:c,handleAssignRoleClick:u=>{const g=u.name,x=u.id;s.value=g,l.value=x,c.value=!0},usernameForModal:s,userIdForModal:l}}},P={class:"p-4 bg-white rounded-lg shadow-xs"},j=e("div",{class:"inline-flex overflow-hidden mb-4 w-full bg-white rounded-lg shadow-md"},[e("div",{class:"flex justify-center items-center w-12 bg-blue-500"},[e("svg",{class:"w-6 h-6 text-white fill-current",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM21.6667 28.3333H18.3334V25H21.6667V28.3333ZM21.6667 21.6666H18.3334V11.6666H21.6667V21.6666Z"})])]),e("div",{class:"px-4 py-2 -mx-3"},[e("div",{class:"mx-3"},[e("span",{class:"font-semibold text-blue-500"},"Info"),e("p",{class:"text-sm text-gray-600"},"Sample table page")])])],-1),L={class:"overflow-hidden mb-8 w-full rounded-lg border shadow-xs"},S={class:"overflow-x-auto w-full"},Z={class:"w-full whitespace-no-wrap"},E=e("thead",null,[e("tr",{class:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase bg-gray-50 border-b"},[e("th",{class:"px-4 py-3"},"Name"),e("th",{class:"px-4 py-3"},"Email"),e("th",{class:"px-4 py-3"},"Role"),e("th",{class:"px-4 py-3"},"Permissions"),e("th",{class:"px-4 py-3"},"Action")])],-1),O={class:"bg-white divide-y"},z={class:"px-4 py-3 text-sm"},T={class:"px-4 py-3 text-sm"},q={class:"px-4 py-3 text-sm"},G=e("br",null,null,-1),J={class:"px-4 py-3 text-sm"},K={class:"px-4 py-3 text-sm"},Q={class:"px-4 py-3 text-xs font-semibold tracking-wide text-gray-500 uppercase bg-gray-50 border-t sm:grid-cols-9"},W={class:"p-6"},X={class:"text-lg font-medium text-gray-900"},Y={class:"mt-6 w-full flex justify-start w-1/1"},$=e("option",{value:""},"-Select Role-",-1),ee=["value"],te={class:"p-5"};function se(c,s,l,m,u,g){const x=i("Head"),w=i("PrimaryButton"),v=i("pagination"),b=i("DangerButton"),k=i("Modal"),C=i("AuthenticatedLayout");return o(),n(a,null,[r(x,{title:"Users"}),r(C,null,{header:_(()=>[p(" Users ")]),default:_(()=>[e("div",P,[j,e("div",L,[e("div",S,[e("table",Z,[E,e("tbody",O,[(o(!0),n(a,null,h(l.users.data,t=>(o(),n("tr",{key:t.id,class:"text-gray-700"},[e("td",z,d(t.name),1),e("td",T,d(t.email),1),e("td",q,[(o(!0),n(a,null,h(t.roles,f=>(o(),n(a,null,[p(d(f.name)+" ",1),G],64))),256))]),e("td",J,[(o(!0),n(a,null,h(t.roles,f=>(o(),n(a,null,[(o(!0),n(a,null,h(f.permissions,D=>(o(),n(a,null,[p(d(D.name)+" , ",1)],64))),256))],64))),256))]),e("td",K,[r(w,{onClick:f=>m.handleAssignRoleClick(t)},{default:_(()=>[p("Assign/Change Role")]),_:2},1032,["onClick"])])]))),128))])])]),e("div",Q,[r(v,{links:l.users.links},null,8,["links"])])])]),r(k,{show:m.confirmingUserDeletion,onClose:s[1]||(s[1]=t=>m.confirmingUserDeletion=!1)},{default:_(()=>[e("div",W,[e("h2",X," Edit Role of "+d(m.usernameForModal),1),e("div",Y,[R(e("select",{name:"","onUpdate:modelValue":s[0]||(s[0]=t=>u.FormData.role_id=t),class:"mt-1 border-gray-300 rounded-md shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 focus-within:text-primary-600",id:""},[$,(o(!0),n(a,null,h(l.roles,t=>(o(),n("option",{value:t.id},d(t.name),9,ee))),256))],512),[[A,u.FormData.role_id]])])]),e("div",te,[r(b,{onClick:g.changeRole},{default:_(()=>[p("Change Role")]),_:1},8,["onClick"])])]),_:1},8,["show"])]),_:1})],64)}const de=N(I,[["render",se]]);export{de as default};
