import{_ as V}from"./AuthenticatedLayout-2f90a5f5.js";import{_ as g,a as C}from"./TextInput-ca318154.js";import{D as B}from"./DeleteButton-f86b5e76.js";import{_ as k}from"./PrimaryButton-2c55c2ce.js";import{Z as S,k as l,o as n,c as r,a as s,w as p,F as f,b as h,d as t,f as A,i as I,m as L,l as x,t as c,g as N}from"./app-352ce6fa.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";const U={props:{mustVerifyEmail:Boolean,status:String,customers:Object,receivedVouchers:Object},components:{AuthenticatedLayout:V,InputLabel:g,TextInput:C,Head:S,PrimaryButton:k,DeleteButton:B},data(){return{formData:{customer_id:"",sale_date:"",account_no:"",desc:"",total_amount:""}}},methods:{getCustomerDetails(m){const o=this.customers.find(i=>i.id===parseInt(m));o?(this.formData.account_no=o.id,this.formData.customer_id=o.id):(this.formData.account_no="",this.formData.customer_id="")},submitForm(){this.$inertia.post(route("cashreceivedvouchers.store"),this.formData,{onSuccess:()=>{this.$inertia.visit(route("cashreceivedvouchers.create"))}})}}},T={class:"flex space-x-4"},H={class:"w-1/3"},P={class:"w-1/3"},R={class:"w-1/3"},j=t("option",{value:""},"--Select Customer--",-1),E=["value"],M={class:"w-1/3"},O={class:"w-1/3"},Z=t("br",null,null,-1),q={class:"overflow-hidden mb-8 w-full rounded-lg border shadow-xs"},z={class:"overflow-x-auto w-full"},G={class:"w-full whitespace-no-wrap"},J=t("thead",null,[t("tr",{class:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase bg-gray-50 border-b"},[t("th",{class:"px-4 py-3"},"Sr"),t("th",{class:"px-4 py-3"},"Voucher Date"),t("th",{class:"px-4 py-3"},"Customer Name"),t("th",{class:"px-4 py-3"},"Description"),t("th",{class:"px-4 py-3"},"Amount"),t("th",{class:"px-4 py-3"},"Action")])],-1),K={class:"bg-white divide-y"},Q={class:"text-gray-700"},W={class:"px-4 py-3 text-sm"},X={class:"px-4 py-3 text-sm"},Y={class:"px-4 py-3 text-sm"},$={class:"px-4 py-3 text-sm"},tt={class:"px-4 py-3 text-sm"},et={key:0,class:"px-4 py-3 text-sm"};function ot(m,o,i,st,a,_){const y=l("Head"),u=l("InputLabel"),d=l("TextInput"),v=l("PrimaryButton"),D=l("DeleteButton"),b=l("AuthenticatedLayout");return n(),r(f,null,[s(y,{title:"Cash Received Voucher"}),s(b,null,{header:p(()=>[h(" Cash Received Voucher ")]),default:p(()=>[t("div",null,[t("form",{onSubmit:o[6]||(o[6]=A((...e)=>_.submitForm&&_.submitForm(...e),["prevent"])),class:"mt-6 space-y-6"},[t("div",T,[t("div",H,[s(u,{for:"sale_date",value:"Voucher Date"}),s(d,{id:"sale_date",ref:"sale_date",modelValue:a.formData.sale_date,"onUpdate:modelValue":o[0]||(o[0]=e=>a.formData.sale_date=e),type:"date",class:"mt-1 block w-full",autocomplete:"sale_date"},null,8,["modelValue"])]),t("div",P,[s(u,{for:"account_no",value:"A/C No"}),s(d,{id:"account_no",ref:"account_no",modelValue:a.formData.account_no,"onUpdate:modelValue":o[1]||(o[1]=e=>a.formData.account_no=e),type:"text",class:"mt-1 block w-full",autocomplete:"account_no",readonly:""},null,8,["modelValue"])]),t("div",R,[s(u,{for:"customer_id",value:"Customer Name"}),I(t("select",{"onUpdate:modelValue":o[2]||(o[2]=e=>a.formData.customer_id=e),onChange:o[3]||(o[3]=e=>_.getCustomerDetails(a.formData.customer_id)),class:"mt-1 border-gray-300 rounded-md shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 focus-within:text-primary-600"},[j,(n(!0),r(f,null,x(i.customers,e=>(n(),r("option",{value:e.id},c(e.name),9,E))),256))],544),[[L,a.formData.customer_id]])]),t("div",M,[s(u,{for:"desc",value:"Description"}),s(d,{id:"desc",ref:"desc",modelValue:a.formData.desc,"onUpdate:modelValue":o[4]||(o[4]=e=>a.formData.desc=e),type:"text",class:"mt-1 block w-full",autocomplete:"desc"},null,8,["modelValue"])]),t("div",O,[s(u,{for:"total_amount",value:"Amount"}),s(d,{id:"total_amount",ref:"total_amount",modelValue:a.formData.total_amount,"onUpdate:modelValue":o[5]||(o[5]=e=>a.formData.total_amount=e),type:"number",step:"0.01",class:"mt-1 block w-full",autocomplete:"total_amount"},null,8,["modelValue"])])]),s(v,null,{default:p(()=>[h("Save")]),_:1})],32),Z,t("div",q,[t("div",z,[t("table",G,[J,t("tbody",K,[(n(!0),r(f,null,x(i.receivedVouchers,(e,w)=>(n(),r("tr",Q,[t("td",W,c(w+1),1),t("td",X,c(e.sale_date),1),t("td",Y,c(e.customer.name),1),t("td",$,c(e.desc),1),t("td",tt,c(e.total_amount),1),m.$page.props.user.permissions.includes("delete.records")?(n(),r("td",et,[s(D,{model:"CashReceivedVoucher",id:e.id},null,8,["id"])])):N("",!0)]))),256))])])])])])]),_:1})],64)}const it=F(U,[["render",ot]]);export{it as default};
