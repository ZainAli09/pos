import{_ as V}from"./AuthenticatedLayout-049b99a7.js";import{_ as g,a as k}from"./TextInput-0438b74d.js";import{D as S}from"./DeleteButton-af8f42be.js";import{_ as A}from"./PrimaryButton-141e8ab3.js";import{Z as B,k as n,o as r,c as d,a as s,w as _,F as h,b as f,d as t,f as C,i as I,m as L,l as y,t as c,g as T}from"./app-bdb3b182.js";import{_ as F}from"./_plugin-vue_export-helper-c27b6911.js";const N={props:{mustVerifyEmail:Boolean,status:String,stakeholders:Object,paymentVouchers:Object},components:{AuthenticatedLayout:V,InputLabel:g,TextInput:k,Head:B,PrimaryButton:A,DeleteButton:S},data(){return{formData:{stakeholder_id:"",voucher_date:"",account_no:"",desc:"",total_amount:"",stakeholder_type:""}}},computed:{flattenedStakeholders(){return this.stakeholders.reduce((l,o)=>l.concat(o.data.map(m=>({id:m.id,type:o.type,name:m.name}))),[])}},methods:{updateStakeholderType(l){const o=l.target.selectedIndex;this.formData.stakeholder_type=l.target.options[o].getAttribute("data-type")},submitForm(){this.$inertia.post(route("cashpaymentvouchers.store"),this.formData,{onSuccess:()=>{this.$inertia.visit(route("cashpaymentvouchers.create"))}})}}},P={class:"flex space-x-4"},U={class:"w-1/3"},H={class:"w-1/3"},j={class:"w-1/3"},E=t("option",null,"-- Select an Account --",-1),M=["value","data-type"],O={class:"w-1/3"},Z={class:"w-1/3"},q=t("br",null,null,-1),z={class:"overflow-hidden mb-8 w-full rounded-lg border shadow-xs"},J={class:"overflow-x-auto w-full"},K={class:"w-full whitespace-no-wrap"},Q=t("thead",null,[t("tr",{class:"text-xs font-semibold tracking-wide text-left text-gray-500 uppercase bg-gray-50 border-b"},[t("th",{class:"px-4 py-3"},"Sr"),t("th",{class:"px-4 py-3"},"Voucher Date"),t("th",{class:"px-4 py-3"},"Voucher For"),t("th",{class:"px-4 py-3"},"Description"),t("th",{class:"px-4 py-3"},"Amount"),t("th",{class:"px-4 py-3"},"Action")])],-1),R={class:"bg-white divide-y"},W={class:"text-gray-700"},X={class:"px-4 py-3 text-sm"},Y={class:"px-4 py-3 text-sm"},G={class:"px-4 py-3 text-sm"},$={class:"px-4 py-3 text-sm"},tt={class:"px-4 py-3 text-sm"},et={key:0,class:"px-4 py-3 text-sm"};function ot(l,o,m,st,a,u){const x=n("Head"),i=n("InputLabel"),p=n("TextInput"),v=n("PrimaryButton"),b=n("DeleteButton"),w=n("AuthenticatedLayout");return r(),d(h,null,[s(x,{title:"Cash Payment Voucher"}),s(w,null,{header:_(()=>[f(" Cash Payment Voucher ")]),default:_(()=>[t("div",null,[t("form",{onSubmit:o[6]||(o[6]=C((...e)=>u.submitForm&&u.submitForm(...e),["prevent"])),class:"mt-6 space-y-6"},[t("div",P,[t("div",U,[s(i,{for:"voucher_date",value:"Voucher Date"}),s(p,{id:"voucher_date",ref:"voucher_date",modelValue:a.formData.voucher_date,"onUpdate:modelValue":o[0]||(o[0]=e=>a.formData.voucher_date=e),type:"date",class:"mt-1 block w-full",autocomplete:"voucher_date"},null,8,["modelValue"])]),t("div",H,[s(i,{for:"account_no",value:"A/C No"}),s(p,{id:"account_no",ref:"account_no",modelValue:a.formData.account_no,"onUpdate:modelValue":o[1]||(o[1]=e=>a.formData.account_no=e),type:"text",class:"mt-1 block w-full",autocomplete:"account_no"},null,8,["modelValue"])]),t("div",j,[s(i,{for:"stakeholder_id",value:"Account Name"}),I(t("select",{"onUpdate:modelValue":o[2]||(o[2]=e=>a.formData.stakeholder_id=e),onChange:o[3]||(o[3]=(...e)=>u.updateStakeholderType&&u.updateStakeholderType(...e)),class:"mt-1 border-gray-300 rounded-md shadow-sm focus:border-primary-300 focus:ring focus:ring-primary-200 focus:ring-opacity-50 focus-within:text-primary-600"},[E,(r(!0),d(h,null,y(u.flattenedStakeholders,e=>(r(),d("option",{value:e.id,"data-type":e.type,key:e.id},c(e.name+" / "+e.type),9,M))),128))],544),[[L,a.formData.stakeholder_id]])]),t("div",O,[s(i,{for:"desc",value:"Description"}),s(p,{id:"desc",ref:"desc",modelValue:a.formData.desc,"onUpdate:modelValue":o[4]||(o[4]=e=>a.formData.desc=e),type:"text",class:"mt-1 block w-full",autocomplete:"desc"},null,8,["modelValue"])]),t("div",Z,[s(i,{for:"total_amount",value:"Amount"}),s(p,{id:"total_amount",ref:"total_amount",modelValue:a.formData.total_amount,"onUpdate:modelValue":o[5]||(o[5]=e=>a.formData.total_amount=e),type:"number",step:"0.01",class:"mt-1 block w-full",autocomplete:"total_amount"},null,8,["modelValue"])])]),s(v,null,{default:_(()=>[f("Save")]),_:1})],32),q,t("div",z,[t("div",J,[t("table",K,[Q,t("tbody",R,[(r(!0),d(h,null,y(m.paymentVouchers,(e,D)=>(r(),d("tr",W,[t("td",X,c(D+1),1),t("td",Y,c(e.voucher_date),1),t("td",G,c(e.stakeholder.stakeholder.name),1),t("td",$,c(e.desc),1),t("td",tt,c(e.total_amount),1),l.$page.props.user.permissions.includes("delete.records")?(r(),d("td",et,[s(b,{model:"CashPaymentVoucher",id:e.id},null,8,["id"])])):T("",!0)]))),256))])])])])])]),_:1})],64)}const ut=F(N,[["render",ot]]);export{ut as default};
