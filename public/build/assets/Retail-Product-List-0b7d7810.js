import{_ as m}from"./AuthenticatedLayout-892c6add.js";import{_ as u}from"./Pagination-c05f049f.js";import{h as f}from"./html2pdf-e798d194.js";import{h as y}from"./moment-fbc5633a.js";import{Z as b,j as v,K as x,k as w,o as _,c as p,a as g,d as t,t as l,F as h,l as D}from"./app-5f59ba7c.js";import{_ as P}from"./_plugin-vue_export-helper-c27b6911.js";const R={components:{AuthenticatedLayout:m,Head:b,Pagination:u,Link:v},props:{products:Object},data(){return{user:x().props.auth.user}},methods:{formatDate(a){return a?y(a).format("DD-MM-YYYY"):""},calculateBalance(a,e){let s=0,d=0,i=0;for(let c=0;c<=e;c++){const n=a[c],o=(n.transactionable_type.split("\\").pop()==="CashReceivedVoucher"||n.transactionable_type.split("\\").pop()==="WSReturnInvoices")&&n.transactionable.total_amount||0,r=n.transactionable_type.split("\\").pop()==="WSInvoice"&&n.transactionable.total_amount||0;s+=r-o,d+=o,i+=r}return this.totalDeb=d,this.totalCred=i,this.balance=s,s===0?"0":s<0?Math.abs(s)+" DR":this.balance=s+" CR"},downloadPDF(){const a=document.getElementById("pdf-content");try{const e={margin:5,filename:"retail-product-list.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"}};f().from(a).set(e).save()}catch(e){console.error("Error in downloadPDF:",e)}}}},k=t("meta",{charset:"utf-8"},null,-1),F=t("meta",{name:"viewport",content:"width=device-width, initial-scale=1"},null,-1),j=t("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"},null,-1),B=t("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css",integrity:"sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm",crossorigin:"anonymous"},null,-1),L={id:"pdf-content"},S={class:"row"},C={class:"col heading"},A={class:"row"},I={class:"col heading"},W={class:"row"},E={class:"col heading"},N=t("div",{class:"row"},[t("div",{class:"col heading"},[t("h2",null,"Product List Report (Retail)")])],-1),X=t("br",null,null,-1),Y={class:"w-full whitespace-no-wrap"},G=t("thead",null,[t("tr",{class:"text-xs font-semibold tracking-wide text-left text-black-500 uppercase bg-gray-300 border-b"},[t("th",{class:"px-2 py-3"},"Sr"),t("th",{class:"px-2 py-3"},"Product ID"),t("th",{class:"px-5 py-3"},"Product Name"),t("th",{class:"px-2 py-3"},"Retail Price")])],-1),H={class:"bg-white divide-y"},M={class:"text-gray-700"},V={class:"px-2 py-1 text-sm"},q={class:"px-2 py-1 text-sm"},J={class:"px-2 py-1 text-sm"},O={class:"px-2 py-1 text-sm"},K=t("br",null,null,-1),Q=t("div",{class:"flex space-x-4 absolute bottom-0 w-full",id:"ledger-footer"},[t("div",{class:"w-1/2"},[t("p",null,"Developed By Reylma Solutions +92-333-600512")]),t("div",{class:"w-1/4"},[t("p",null,"Date: ")]),t("div",{class:"w-1/4"},[t("p",null,"Gen By: ")])],-1);function T(a,e,s,d,i,c){const n=w("Head");return _(),p(h,null,[g(n,{title:"Retail Product List"}),k,F,j,B,t("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=(...o)=>c.downloadPDF&&c.downloadPDF(...o))},"Download PDF"),t("div",L,[t("div",S,[t("div",C,[t("h2",null,l(i.user.company_name),1)])]),t("div",A,[t("div",I,[t("h4",null,l(i.user.address),1)])]),t("div",W,[t("div",E,[t("h4",null,l(i.user.mobile_no),1)])]),N,X,t("table",Y,[G,t("tbody",H,[(_(!0),p(h,null,D(s.products,(o,r)=>(_(),p("tr",M,[t("td",V,l(r+1),1),t("td",q,l(o.id),1),t("td",J,l(o.name),1),t("td",O,l(o.sale_rate),1)]))),256))])]),K,Q])],64)}const st=P(R,[["render",T]]);export{st as default};
